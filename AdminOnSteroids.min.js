function _isEnabled(e){return-1!==AOSsettings.enabledSubmodules.indexOf(e)}function initCKE(){function e(e){var t=e.extraPlugins.split(",");for(s=0;s<t.length;s++){var i=t[s];l.hasOwnProperty(i)&&-1!==n.indexOf(i)&&e.toolbar.unshift(l[i])}}var t=ProcessWire.config.InputfieldCKEditor.plugins,n=AOSsettings.CKEaddons_plugins,i=AOSsettings.CKEaddons_skin,a=AOSsettings.CKEaddons_enabledFields,o=n.length,l={codesnippet:["CodeSnippet"],div:["CreateDiv"],find:["Find","Replace"],justify:["JustifyLeft","JustifyCenter","JustifyRight","JustifyBlock"],indentblock:["Indent","Outdent"],maximize:["Maximize"],oembed:["oembed"],showblocks:["ShowBlocks"],token:["CreateToken"],templates:["Templates"]};if(n&&n.reverse(),o>0)for(var s=0;s<o;s++){var r=n[s];if("oembed"==r){c="widget,lineutils".split(",");for(var d in c)t[c[d]]=aosUrl+"CKE/plugins/"+c[d]+"/plugin.js"}if("autosave"==r){c="notification".split(",");for(var d in c)t[c[d]]=aosUrl+"CKE/plugins/"+c[d]+"/plugin.js"}if("indentblock"==r){c="indent".split(",");for(var d in c)t[c[d]]=aosUrl+"CKE/plugins/"+c[d]+"/plugin.js"}if("codesnippet"==r){c="widget,dialog,lineutils".split(",");for(var d in c)t[c[d]]=aosUrl+"CKE/plugins/"+c[d]+"/plugin.js"}if("token"==r){var c="widget,dialog,lineutils".split(",");for(var d in c)t[c[d]]=aosUrl+"CKE/plugins/"+c[d]+"/plugin.js"}t[r]=aosUrl+"CKE/plugins/"+r+"/plugin.js"}$(document).ready(function(){aosUrl&&i&&"default"!==i&&(CKEDITOR.config.skin=i+","+aosUrl+"CKE/skins/"+i+"/"),CKEtemplatesFile&&(CKEDITOR.config.templates_files=[CKEtemplatesFile],CKEDITOR.config.templates="default",CKEDITOR.config.templates_replaceContent=!1),CKEDITOR.config.autoGrow_onStartup=!0,CKEDITOR.config.autoGrow_bottomSpace=20,CKEDITOR.config.autoGrow_maxHeight=700,CKEDITOR.config.codemirror={theme:"material",lineNumbers:!0,indentAuto:!0,lineWrapping:!0},$(".InputfieldCKEditorNormal, .InputfieldCKEditorInline").each(function(){var t=$(this).attr("data-configname"),i=ProcessWire.config[t];if(!i||i.aos)return!0;if(AOSsettings.customCKEScript&&(i.customConfig=AOSsettings.customCKEScript),-1!==i.contentsCss.indexOf("/wire/")&&AOSsettings.customCKEStyle&&(i.contentsCss=AOSsettings.customCKEStyle),a.length&&-1===a.indexOf(t.replace("InputfieldCKEditor_","")))return!0;var o=n.join(",");if(-1!==o.indexOf("magicline")){var l=i.removePlugins.split(","),s=l.indexOf("magicline");s>-1&&l.splice(s,1),i.removePlugins=l.join(",")}i.extraPlugins+=","+o,e(i),i.aos=!0})})}function updateAutoGrowCKE(e){e.length&&e.each(function(e,t){var n=$(t).attr("id").replace("wrap_",""),i=CKEDITOR.instances[n];i&&!i.autogrowFired&&(i.autogrowFired=!0,i.execCommand("autogrow"))})}function updateAutoGrowCKE(e){e.length&&e.each(function(e,t){var n=$(t).attr("id").replace("wrap_",""),i=CKEDITOR.instances[n];i&&!i.autogrowFired&&(i.autogrowFired=!0,i.execCommand("autogrow"))})}function posTop(){return void 0!==window.pageYOffset?window.pageYOffset:document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop?document.body.scrollTop:0}function debounce(e,t,n){var i;return function(){var a=this,o=arguments,l=n&&!i;clearTimeout(i),i=setTimeout(function(){i=null,n||e.apply(a,o)},t),l&&e.apply(a,o)}}function addImageSelectLabels(e){e.children("li").length&&e.addClass("aos-image-titles").children("li").each(function(e,t){var n,i=$(t).find("a"),a=i.attr("href");imgTitle=i.find("img").attr("alt")||AOSsettings.loc.untitled,n=a.split("&")[0].split(",")[1],i.append('<span class="imageSelectLabel">'+imgTitle+"<small>"+n+"</small></span>")})}function setDtTable(e){setColWidths("#"+e.attr("id")),e.find("tbody tr").each(function(){var e=$(this),t=e.children("td"),n=[];$.each(t,function(e,t){var i=t.innerText||t.textContent||$(t).find("input").val();i&&n.push(i.trim())}),e.attr("data-filter",n.join(" "))})}function paginateFilteredLister(e,t){var n="right"==t?".MarkupPagerNavNext a":".MarkupPagerNavPrevious a";$(n).length&&($("body").attr("data-filterbox",$(e).val()),$(n).first().trigger("click"))}function toggleFilterBoxState(e,t){e.attr("disabled",!t)}function restoreFilterBoxValue(e){var t=$("body").attr("data-filterbox");if(!t)return!1;toggleFilterBoxState(e,!0),e.val(t).trigger("fieldchange").focus(),$("body").removeAttr("data-filterbox")}function setupAdminDataTableFilter(){function e(e,t,n){$(t).siblings(".counter").html("<strong>"+e+"</strong><em>/ "+n+"</em>")}function t(e){e.val("").focus(),e.parent().removeClass("hasValue"),e.trigger("fieldchange")}if($("#modules_form").length)return!1;if($(".AdminDataTable:not(.InputfieldTable)").length){var n=$("#ProcessTemplateList, #ProcessFieldList").length?" autofocus":"";if(0==$("body.AdminThemeUikit").length)i=$('<div class="Inputfield InputfieldMarkup"><label class="InputfieldHeader InputfieldStateToggle" for=""><i class="fa fa-fw fa-filter"></i> Quickfilter tables below</label><div class="dtFilter filterbox InputfieldContent"><input type="text"'+n+' placeholder="Filter table below" class="ui-input"><i class="fa fa-close"></i><span class="counter"></span></div></div>');else var i=$('<div class=\'uk-inline filterbox-wrapper uk-grid-margin Inputfield InputfieldMarkup\'><label class="InputfieldHeader uk-form-label InputfieldStateToggle" for=""><i class="fa fa-fw fa-filter"></i> Quickfilter tables below</label><div class="dtFilter filterbox InputfieldContent "><input type="text"'+n+' class=\'uk-input uk-form-width-medium\'><i class="fa fa-close"></i><span class="counter"></span></div></div>');if($(".AdminDataTable").find("tbody tr").length<=1)return!1;$(".AdminDataTable").each(function(){var e=$(this);return!!e.attr("data-dtfilter-added")||(!!e.parents("#ModuleInfo").length||(setDtTable(e),1==$(".AdminDataTable").length?$("body").hasClass("id-1095")?e.parents(".Inputfields").first().prepend(i.clone()):e.before(i.clone()):e.parents(".WireTab").length?e.before(i.clone()):($("body").hasClass("dtFilterAdded")||(e.parents(".Inputfields").first().prepend(i.clone()),$("body").addClass("dtFilterAdded")),e.parents("#ProcessListerTable").length&&e.parents("#ProcessListerTable").first().prepend(i.clone())),e.attr("data-dtfilter-added","1"),void(e.parents("form").find("ul.MarkupPagerNav").length&&restoreFilterBoxValue(e.parents("form").find(".dtFilter input")))))}),$(document).on("keydown",".dtFilter input",function(e){var n=(e=e||window.event).target||e.srcElement;27===e.keyCode&&(n.value?setTimeout(function(){t($(n))},0):n.blur())}),$(document).on("click",".dtFilter i",function(e){var n=(e=e||window.event).target||e.srcElement;return t($(n).prev("input")),!1}),$(document).on("keydown",".dtFilter input",function(e){e=e||window.event;var t=$(this),n=t.parents("form").find(".MarkupPagerNav"),i=e.keyCode||e.charCode||e.which,a={left:37,up:38,right:39,down:40};if(e.metaKey||e.ctrlKey)switch(i){case a.left:if(e.preventDefault(),n.find(".MarkupPagerNavPrevious").length)return toggleFilterBoxState(t,!1),paginateFilteredLister(t,"left"),!1;break;case a.right:if(e.preventDefault(),n.find(".MarkupPagerNavNext").length)return toggleFilterBoxState(t,!1),paginateFilteredLister(t,"right"),!1}}),$(document).on("input keyup fieldchange",".dtFilter input",debounce(function(t){var n=(t=t||window.event).target||t.srcElement,i=n.value.toLowerCase(),a=$(".AdminDataTable"),o=a.find("tbody td"),l=i.length,s=!1;if($("body").hasClass("id-1007")&&(o=(a=$(n).parent().parent().find(".AdminDataTable")).find("tbody td")),!n.value)return e(),$(n).parent().removeClass("hasValue"),$("tr.hidden").removeClass("hidden"),$(".Inputfield.hidden").removeClass("hidden"),!0;if(13==t.keyCode){var r=$("tbody tr:not(.hidden) a");return r.length&&r.first().get(0).click(),!1}if(i.length>1&&("!"===i.charAt(0)&&(i=i.slice(1),s=!0),"!"===i.charAt(i.length-1)&&(i=i.slice(0,-1),s=!0)),l=i.length,$(n).removeClass("empty"),$(n).parent().addClass("hasValue"),l>0){var d=i.split(" ");if(0==d.length)return!0;o.each(function(){var e=$(this).parent("tr"),t=e.attr("data-filter"),n=!0;if(!t)return setDtTable(a),!1;$.each(d,function(e,i){var a=t.toLowerCase().indexOf(i);s?-1!==a&&(n=!1):-1===a&&(n=!1)}),n?(e.parents("li.Inputfield.InputfieldStateCollapsed").first().removeClass("InputfieldStateCollapsed"),e.removeClass("hidden")):e.addClass("hidden")})}else row.parents("li.Inputfield.InputfieldStateCollapsed").first().removeClass("InputfieldStateCollapsed"),o.removeClass("hidden");var c=function(e){return e.parents(".WireTab").length?1:a.length};e(a.find("tbody tr:not(.hidden)").length,n,a.find("tbody tr").length),a.each(function(){var e=$(this),t=0==e.find("tbody tr:not(.hidden)").length;e.find("thead tr").toggleClass("hidden",t),c(e)>1&&e.parents(".Inputfield").first().toggleClass("hidden",t)})},200))}}function setupTranslatorFilter(){function e(e){e.val("").focus(),e.parent().removeClass("hasValue"),$(".Inputfield.hidden").removeClass("hidden")}var t=$('<div class="transFilter filterbox"><input type="text" autofocus><i class="fa fa-close"></i></div>');$("form > .Inputfields > .Inputfield:not(.Inputfield_abandoned_fieldset)").each(function(){var e=$(this),t=e.find("p, span, input"),n=[];$.each(t,function(e,t){var i=t.innerText||t.textContent||$(t).val();i&&n.push(i.trim())}),e.attr("data-filter",n.join(" "))}),$("form > .Inputfields").before(t),$(".transFilter input").on("click",function(){$('input[name="untranslated"]').prop("checked",!1),$("li.translated").show()}),$(".transFilter input").on("keydown",function(t){var n=(t=t||window.event).target||t.srcElement;27===t.keyCode&&(n.value?setTimeout(function(){e($(n))},0):n.blur())}),$(".transFilter i").click(function(t){var n=(t=t||window.event).target||t.srcElement;return e($(n).prev("input")),!1}),$(document).on("input keyup fieldchange",".transFilter input",debounce(function(t){var n=t.target||t.srcElement,i=n.value.toLowerCase(),a=i.length,o=$("form > .Inputfields").children(".Inputfield:not(.Inputfield_abandoned_fieldset)");if(!n.value)return $(n).parent().removeClass("hasValue"),e($(n)),!0;if($(n).removeClass("empty"),$(n).parent().addClass("hasValue"),a>0){var l=i.split(" ");if(0==l.length)return!0;o.each(function(){var e=$(this),t=e.attr("data-filter"),n=!0;$.each(l,function(e,i){-1===t.toLowerCase().indexOf(i)&&(n=!1)}),n?e.removeClass("hidden"):e.addClass("hidden")})}},200))}function setColWidths(e){setTimeout(function(){var t,n,i=$(e),a=!1;if(!i.length||0==i.find("th").length)return!1;i.parents(".WireTab").not(":visible").length&&(t=i.parents(".WireTab").first(),a=!0),a&&(n=t.attr("style"),t.css({position:"absolute",visibility:"hidden",display:"block"})),i.find("th").each(function(){var e=$(this);e.css("width",e.outerWidth()+"px")}),a&&t.attr("style",n)},200)}var AOSsettings=AOSsettings||ProcessWire&&ProcessWire.config&&ProcessWire.config.AdminOnSteroids?JSON.parse(ProcessWire.config.AdminOnSteroids):null;if(AOSsettings){var aosUrl=AOSsettings.aosUrl,CKEtemplatesFile=AOSsettings.customCKEtemplates;_isEnabled("CKEaddons")&&ProcessWire.config.InputfieldCKEditor&&($(document).on("reloaded",".InputfieldRepeaterItem, .InputfieldCKEditor",initCKE),initCKE())}_isEnabled("CKEaddons")&&-1!==AOSsettings.CKEaddons_plugins.indexOf("autogrow")&&($(document).on("wiretabclick",function(e,t){var n=$(t).find(".InputfieldCKEditor");n.length&&updateAutoGrowCKE(n)}),$(document).on("showInputfield",function(e,t){$(t).hasClass("InputfieldCKEditor")&&updateAutoGrowCKE($(t))})),$(document).ready(function(){function e(e,t){$.ajax({url:e,type:"HEAD",cache:!1,complete:function(e){"function"==typeof t&&t.apply(this,[e.status])}})}function t(e){var t=e?"check":"exclamation-triangle",n=e?"success":"error";I.html(_),I.addClass(n),I.html(_+'<i class="fa fa-'+t+'">')}function n(e){var t=e.keyCode||e.charCode;return $(document).off("keydown",n),27!==t||!$("a.notice-remove").length||($("a.notice-remove").first().trigger("click"),!1)}function i(){var e=!1;return $(".cke_button__maximize.cke_button_on").trigger("click"),window.frameElement&&!$("body").hasClass("modal")?e=$('.ui-dialog-buttonset button[role="button"]',window.parent.document).eq(0):0===(e=$("form.InputfieldForm").find('button[type="submit"]').filter(".aos_hotkeySave, form#ProcessTemplateAdd #Inputfield_submit, #submit_publish, #Inputfield_submit_save, #submit_save, #ProcessTemplateEdit #Inputfield_submit, #Inputfield_submit_save_field, #Inputfield_submit_save_module, #submit_save_profile, #save_translations").eq(0)).length&&(e=$('.ui-dialog-buttonset button[role="button"]').eq(0)),e}function a(){if($(".cke_dialog:visible").length&&$(".cke_dialog:visible").find(".cke_dialog_ui_button_ok").length)return e=$(".cke_dialog:visible").find(".cke_dialog_ui_button_ok").first().get(0).click(),!1;var e=i();if(e.length){var t=$("html");$("iframe.pw-modal-window",window.parent.document).length&&(t=$("iframe.pw-modal-window",window.parent.document).contents().find("html")),$("body",t).addClass("aos_saving"),$("#wrap, body.AdminThemeDefault #content",t).addClass("ui-state-disabled"),e.addClass("ui-state-disabled").focus(),setTimeout(function(){e.click()},100)}}function o(){window.CKEDITOR&&CKEDITOR.on("instanceReady",function(e){e.editor.addCommand("saveCKECommand",{exec:function(e,t){a()}}),e.editor.keystrokeHandler.keystrokes[CKEDITOR.CTRL+83]="saveCKECommand"})}function l(e,t){try{var n=$("#ProcessPageSearchQuery");if(e&&e.preventDefault(),t)return n.blur(),$("#search.open").removeClass("open"),!1;n.is(":focus")?n.blur():($("#search").addClass("open"),n.focus(),searchBoxValue=n.val().trim(),n.val("â€‹"+searchBoxValue),n.trigger("keydown"))}finally{}}function s(){setTimeout(function(){$("#wrap_fieldgroup_fields .asmListItemStatus:not(:contains('%'))").each(function(){$(this).html($(this).text()+"<em> 100%</em>")})},100)}function r(){!$(".gutter").length||$(".gutter").css("height",0).css("height",$(".gutter").parent().outerHeight())}function d(e){$(R.selector).not("["+R.dataLoaded+'="1"]').each(function(){var e=$(this);setTimeout(function(){R.btnHeight>0&&e.css({height:R.btnHeight+"px","line-height":R.btnHeight+"px"})},0)}),$(R.selector+"["+R.dataMode+'!=""]['+R.dataMode+"]").not("["+R.dataLoaded+'="1"]').each(function(){var t=$(this).attr(R.dataMode),n=$(this).parents(".InputfieldContent").first().find('input:not([type="hidden"])');c(e,n),f(n),-1!==t.indexOf("ctrl-shift-click")&&u(n,"click","ctrl-shift-click"),-1!==t.indexOf("ctrl-shift-enter")&&u(n,"keydown","ctrl-shift-enter"),$(this).attr(R.dataLoaded,1)})}function c(e,t){t.parents(".InputfieldContent").first().find(R.selector).on("mousedown",function(){var t;return(t=!!$(this).attr("href")&&$(this).attr("href").trim())&&-1===t.indexOf("mailto:")?3==e.which||(2==e.which||4==e.button?(window.open(t.replace("&modal=1","")),!1):void 0):($(this).addClass(R.linkHiddenClass),!1)})}function u(e,t,n){e.on(t,function(t){var i=$(this).val(),a=(t.metaKey||t.ctrlKey)&&t.shiftKey,o=t.keyCode||t.charCode,l=10==o||13==o;if(i||""!==i.trim())return"ctrl-shift-enter"===n&&a&&l||"ctrl-shift-click"===n&&a?(e.parents(".InputfieldContent").first().find(R.selector).get(0).click(),!1):void 0})}function f(e){e.on("keyup input change fieldchange",function(){var t=e.parents(".InputfieldContent").first().find(R.selector),n=p(e.val(),t.attr(R.dataForceHttp)).trim();n?(t.attr("href",n),t.removeClass(R.linkHiddenClass)):(t.attr("href",""),t.addClass(R.linkHiddenClass))}),e.trigger("fieldchange")}function p(e,t){return 0===e.indexOf("/")?e:-1!==e.indexOf("mailto:")?"":t&&""!=e&&-1===e.indexOf("http")?"http://"+e:e}function h(e){var t=Object.keys(z),n=t[0];return t.indexOf(e)!==t.length-1&&(n=t[t.indexOf(e)+1]),n}function m(e,t){var n,i=e.val(),a=h(t.attr("data-case")),o=$("h1#title > span").length?"h1#title > span":"h1#title";$("body.AdminThemeDefault").length&&(o=$("#breadcrumbs li.title > span").length?"#breadcrumbs li.title span":"#breadcrumbs li.title"),z[a]&&(n=z[a](i,t)),n&&n.length&&(e.val(n),"Inputfield_title"==e.attr("id")&&$(o).length&&$(o).contents().filter(function(){return 3==this.nodeType}).first().replaceWith(n),t.attr("data-case",a)),e.focus()}function g(e,t,n){function i(e,t){if(1!==e.which)return!0;setTimeout(function(){var e=s.filter("input:checked").length,n=s.length,i=e!==n;!1!==t&&s.each(function(){$(this).prop("checked",i)}),l.text(s.filter("input:checked").length===n?d:r)},0)}if(!$(e).length||!$(n).length)return!1;var a=$(e).first(),o=$(n),l=$('<a href="#" class="checkAllFieldToRemoveBtn">'),t=""===t?'input[type="checkbox"]':t,s=o.find(t),r=AOSsettings.loc.check_all,d=AOSsettings.loc.clear_all;if(!s.length||s.length<=1)return!1;l.text(r),$("#abandoned_fieldset").length&&l.addClass("ui-button ui-priority-secondary"),a.after(l),o.on("mouseup","label",function(e){i(e,!1)}),l.on("mouseup",function(e){i(e)})}function v(){$("input, textarea, select").each(function(e){$(this).prop("tabindex",e+1)})}function b(){$(".moduleFilter input").val("").trigger("keypress").parent().removeClass("hasValue"),$("tr.hidden").removeClass("hidden"),$(".modules_section.hidden").removeClass("hidden")}function w(e){var t=ye(e);$(Ce).length&&(e.addClass("filterbox_loaded").find(".InputfieldHeader").append(we.clone()),e.find(t).length<2&&e.find(".InputfieldFileFieldFilter").css("display","none"),e.find(".InputfieldFileFieldFilter input").attr("list",e.attr("id")))}function C(e){var t=e.find(".InputfieldFileFieldFilter input"),n=e.attr("id").replace("_","").toLocaleLowerCase(),i=[],a="";e.find(ye(e)).each(function(){var e,t=$(this),n=[];""!==t.find(".InputfieldImageEdit__name").text()&&n.push(t.find(".InputfieldImageEdit__name").text()),t.find(".InputfieldFileName").length&&(e=t.find(".InputfieldFileName"),n.push(e.text()),n.push(e.attr("title"))),n.push(t.find("img").attr("src"));var a=t.find('input[type="text"]:not(.InputfieldFileSort)');$.each(a,function(e){a[e].value&&n.push(a[e].value.trim())}),t.attr("data-filter",n.join(" ")),i.push(n)}),$.each(i,function(e,t){a+='<option value="'+t[0]+'"></option>'}),e.find("datalist#"+n).length?e.find("datalist#"+n).empty().append(a):(e.append('<datalist id="'+n+'">'+a+"</datalist>"),t.attr("list",n))}function y(e){setTimeout(function(){e.val(""),e.trigger("keypress").focus(),e.parent("span").removeClass("hasValue")},0)}if(null!=AOSsettings){if($("html.AdminThemeReno.headStickyCompact:not(.headBtnToTitle):not(.modal)").length){var k=$("#Inputfield_submit_save_module_copy").outerWidth();k&&0!=k&&$("#search").attr("style","right: "+(k+120+24)+"px !important")}if($("h1#title").length&&($("h1#title > span").length?ve=$("h1#title > span")[0].innerText:(ve=$("h1#title").text(),$("h1#title").wrapInner("<span>")),ve&&ve.length>64&&$("h1#title").attr("title",ve)),$("#Inputfield_AssetPaths").length){var _="Check",I=$('<button id="asset-check-button">'+_+"</button>");$("#Inputfield_AssetPaths").on("focus","input",function(){I.html(_),I.removeClass(),$(this).parents(".Inputfield").first().find("label").append(I)});var T=$("#Inputfield_AssetPaths .Inputfield:not(.InputfieldStateCollapsed)");T.length&&T.first().find("label").append(I),I.on("click",function(){var n=$(this).parents(".Inputfield").first().find("input"),i=n.val();if(!i||0===i.length)return n.focus(),!1;I.html(_),I.removeClass();var a=window.location.origin+ProcessWire.config.urls.root,o=-1===i.indexOf("http")?a:"";return i="/"===i[0]?i.substr(1):i,i=(o+i).trim(),e(i,function(e){200===e?t(!0):404===e&&t(!1)}),!1})}if(_isEnabled("FieldAndTemplateEditLinks")){var x=$("#ProcessPageEdit select#template"),E='<a href="#" class="pw-modal aos-template-edit-settings"><i class="fa fa-pencil-square-o"></i></a>';x.length?x.after(E):(x=$('body[class*="ProcessPageEdit-template-"] #wrap_Inputfield__pw_page_name').next("li.Inputfield").find("i.fa-cubes").parent().parent().find(".InputfieldContent p")).append(E),$(document).on("hover",".aos-template-edit-settings",function(){var e=$(this);e.prev("select").length?e.attr("href",ProcessWire.config.urls.admin+"setup/template/edit?id="+e.prev("select").val()):$(".aos_EditTemplate").length&&e.attr("href",$(".aos_EditTemplate").attr("href"))}),$("ul.nav li.title").wrapInner("<span>"),$(document).on("mousedown",".Inputfield .aos_EditField",function(e){var t=$(this).parents(".Inputfield").eq(0).find(".aos_EditFieldLink");return 3!=e.which&&(t.length?(2==e.which||4==e.button?window.open(t.attr("href").replace("&modal=1","")):t[0].click(),!1):void 0)}),$(".Inputfield:not(.InputfieldPageListSelect)").on("reloaded",function(){var e=$(this),t=e.find("label");if(t.length&&0===t.find("span").length){e.addClass("aos_hasTooltip");var n=t.parent().find(".InputfieldContent .aos_EditFieldLink").attr("data-field-name");if(!n)return;t.contents().eq(0).wrap('<span class="title">'),e.find("span.title").append('<em class="aos_EditField">'+n+' <i class="fa fa-pencil"></i></em>')}})}if(_isEnabled("FocusInputOnLangTabSwitch")&&$(document).on("ready reloaded wiretabclick",function(e){var t=AOSsettings.FocusInputOnLangTabSwitch,n=AOSsettings.FocusInputOnLangTabSwitchCKE;$(".langTabs").on("tabsactivate",function(e,i){var a=i.newPanel.get(0).querySelectorAll("input, textarea");if(a.length){var o,l=a[0];if($(l).hasClass("InputfieldCKEditorNormal")){var s=!1,r=i.newPanel.selector.replace("#langTab_",""),d=CKEDITOR.instances[r];o=n,d&&("1"==l.getAttribute("data-cke-loaded")?s=!0:l.setAttribute("data-cke-loaded","1"),setTimeout(function(){if("focus"==o)d.focus();else if("moveEnd"==o){d.focus();var e=d.document.getBody(),t=d.createRange();t&&(t.moveToElementEditablePosition(e,!0),t.select())}else"selectAll"==o&&d.execCommand("selectAll")},s?0:300))}else"focus"==(o=t)?l.focus():"moveEnd"==o?(l.focus(),l.selectionStart=l.selectionEnd=l.value.length):"selectAll"==o&&l.select()}})}),_isEnabled("Hotkeys")){var O=AOSsettings.Hotkeys,S=ProcessWire.config.AOS_breadcrumbs;$(document).on("keydown",function(e){var t=$(".pw-panel-container-open a.pw-panel-button-open",window.parent.document);if(t.length&&27===(e.keyCode||e.charCode))return e.preventDefault(),t.get(0).click(),window.parent.document.body.focus(),!1}),-1!==O.indexOf("filterboxHotkey")&&$(document).on("keydown",function(e){var t=$("html .filterbox");if(t.length){var n=e.keyCode||e.charCode;if(e.altKey&&83===n)return e.preventDefault(),t.find("input").focus(),!1}}),-1!==O.indexOf("addPageTreeTrigger")&&(window.CKEDITOR&&CKEDITOR.on("instanceReady",function(e){-1!==O.indexOf("addPageTreeTrigger")&&(e.editor.addCommand("pageTreeTrigger",{exec:function(e,t){aos_togglePageTreePanel()}}),e.editor.keystrokeHandler.keystrokes[CKEDITOR.ALT+79]="pageTreeTrigger")}),$(document).on("keydown",function(e){var t=e.keyCode||e.charCode,n=$('a.pw-panel[data-tab-icon="sitemap"]');0===n.length&&(n=$('a.pw-panel[data-tab-icon="sitemap"]',window.parent.document)),n.length&&e.altKey&&79===t&&n.get(0).click()})),O.indexOf("removeNoticeHotkey")&&$("a.notice-remove").length&&$(document).on("keydown",n),-1!==O.indexOf("breadcrumbTweaks")&&S&&($('#breadcrumbs a:not(.pw-panel):not([href="#"])').each(function(e){if(!S[e])return!0;S[e].url&&$(this).attr("data-url",S[e].url),S[e].editUrl&&$(this).attr("data-editurl",S[e].editUrl)}),$("#breadcrumbs").on("longclick","a",function(e){if($(this).attr("data-url")){e.preventDefault();var t=$(this).attr("data-url");window.open(t)}}),$("#breadcrumbs").on("click","a",function(e){if((e.metaKey||e.ctrlKey)&&$(this).attr("data-editurl")){e.preventDefault();var t=$(this).attr("data-editurl");window.location=t}})),-1!==O.indexOf("save")&&($(document).on("keydown",function(e){var t=e.keyCode||e.charCode;(e.metaKey||e.ctrlKey)&&83===t&&(a(),e.preventDefault())}),o(),$(document).on("reloaded",".InputfieldRepeaterItem",function(){o()})),-1!==O.indexOf("focusSearch")&&(window.CKEDITOR&&CKEDITOR.on("instanceReady",function(e){-1!==O.indexOf("focusSearch")&&(e.editor.addCommand("focusSearchBox",{exec:function(e,t){l()}}),e.editor.keystrokeHandler.keystrokes[CKEDITOR.ALT+68]="focusSearchBox")}),$(document).on("keydown",function(e){var t=e.keyCode||e.charCode;if(27===t)return l(e,!0),!1;e.altKey&&68===t&&l(e)}))}if(_isEnabled("AsmTweaks")){var A=AOSsettings.AsmTweaks;-1!==A.indexOf("asmCollapse")&&$(document).on("dblclick",".asmFieldset",function(){var e=$(this);e.hasClass("asmFieldsetStart")?(e.toggleClass("collapsed"),e.nextUntil(".asmFieldsetStart").slideToggle(200)):(e.prevAll(".asmFieldsetStart").eq(0).toggleClass("collapsed"),e.prevUntil(".asmFieldsetStart").add(e).slideToggle(200))}),-1!==A.indexOf("editFieldWidth")&&$("body").hasClass("id-11")&&($(document).on("hover","#wrap_fieldgroup_fields .asmList:not(.editFieldWidth)",function(){$(this).addClass("editFieldWidth")}),$(document).on("reloaded",function(){s()}),$(document).on("click","#wrap_fieldgroup_fields .asmListItemStatus",function(){var e=$(this).siblings(".asmListItemEdit").first().find("a"),t=e.attr("href");e.attr("href",e.attr("href")+"#inputfieldConfig").trigger("click"),setTimeout(function(){e.length&&e.attr("href",t)},250)}),s(),$(document).on("pw-modal-closed",function(){$(document).trigger("reloaded")})),-1!==A.indexOf("fieldMiddleEdit")&&$(document).on("mousedown",'.asmList a[href*="/field/edit?"]',function(e){e=e||window.event;var t=$(this),n=t.clone(!0);if(2===e.which){t.unbind("click");var i=t.attr("href").split("&fieldgroup_id")[0],a=t.contents().first()[0].textContent;t.removeAttr("href"),window.open(i,a),window.focus(a),setTimeout(function(){t.replaceWith(n)},300)}return!1})}if(_isEnabled("LongClickDuration")&&jQuery&&jQuery.longclick&&AOSsettings.LongClickDuration&&(jQuery.longclick.duration=parseInt(AOSsettings.LongClickDuration)),_isEnabled("Misc")){if(-1!==AOSsettings.Misc.indexOf("adminColumns")){if(window.Split&&$(".aos_col_left ~ .aos_col_right").length)var F=$(".aos_col_right").attr("data-splitter-storagekey"),L=parseFloat($(".aos_col_left").attr("data-splitter-default")),P=parseFloat($(".aos_col_right").attr("data-splitter-default")),K=localStorage.getItem(F)||[L,P],D=Split([".aos_col_left",".aos_col_right"],{sizes:"string"==typeof K?JSON.parse(K):K,gutterSize:12,minSize:250,onDragEnd:function(){localStorage.setItem(F,JSON.stringify(D.getSizes())),r()}});$(window).on("load",function(){setTimeout(function(){r()},2e3)}),$(document).on("dblclick",".aos_col_left + .gutter",function(e){if(!D)return!0;D.setSizes([L,P]),localStorage.removeItem(F)}),$(window).on("resize",function(){r()}),$("#ProcessPageEdit li[data-column-break]").length&&$(document).on("wiretabclick",function(e,t){var n=t.attr("id").replace("Inputfield_",""),i="#Inputfield_"+n,a=$("#ProcessPageEdit li[data-column-break]").attr("data-column-break");if($(i).hasClass("aos-columns-ready"))return!1;if(a&&(a=JSON.parse(a)),a[n]){if(!a[n][0])return!1;var o=$("#wrap_Inputfield_"+a[n][0]),l=a[n][1]?a[n][1]:67;if(!o.length)return!1;var s=o.index()+1;$(i+" > .Inputfields > li:lt("+s+")").wrapAll('<li class="InputfieldFieldsetOpen aos_col_left" style="width: '+l+'%;"><div class="InputfieldContent"><ul class="Inputfields">'),$(i+" > .Inputfields > .aos_col_left ~ li").wrapAll('<li class="InputfieldFieldsetOpen aos_col_right" style="width: '+(100-l)+'%;"><div class="InputfieldContent"><ul class="Inputfields">'),$(i).addClass("aos-columns-ready")}})}-1!==AOSsettings.Misc.indexOf("autosizeTextareas")&&($(document).on("ready reloaded wiretabclick",function(e){var t=(e.target||e.srcElement).querySelectorAll("textarea");window.autosize&&t.length&&(autosize.update(t),autosize(t))}),$(document).on("tabsactivate",".langTabs",function(e,t){var n=t.newPanel.get(0).querySelectorAll("textarea");n.length&&window.autosize&&window.autosize.update&&autosize.update(n)}))}if(_isEnabled("InputfieldURLChecker")){var R={selector:"a.iuc",linkHiddenClass:"iuc-hide",lockedClass:"iuc-locked-link",dummyFieldSelector:"IUC-dummy",dataMode:"data-iuc-mode",dataTarget:"data-iuc-target",dataForceHttp:"data-iuc-force-http",dataLoaded:"data-iuc-loaded"};$("body").append('<input class="'+R.dummyFieldSelector+'">'),R.btnHeight=$("."+R.dummyFieldSelector).outerHeight()-2,$("."+R.dummyFieldSelector).remove(),$(document).on("ready reloaded wiretabclick opened",d),$(document).on("mousedown","a.InputfieldTableAddRow",d),$(document).on("pw-modal-closed",function(){$('.iuc ~ input:not([type="hidden"])').trigger("fieldchange")})}if(_isEnabled("DeselectRadios")){var M=AOSsettings.DeselectRadios,W=$("input:radio");W.filter(":checked").data("chk",!0),W.click(function(){if(-1===M.indexOf("allowRequired")&&$(this).parents(".InputfieldStateRequired").length)return!0;$("input[name='"+$(this).attr("name")+"']:radio").not(this).removeData("chk"),$(this).data("chk",!$(this).data("chk")),$(this).prop("checked",$(this).data("chk"))})}if(_isEnabled("LangTabHotkeySwitcher")){var q=$(".ui-tabs-nav").eq(0).children("li").length;!function(){function e(n){CKEDITOR.instances[n].on("contentDom",function(){var i=this.editable();i.attachListener(i,"keydown",function(i){function a(t){l.tabs("option","active",t),l.find("input, textarea").eq(t).focus();var n=l.find("li").eq(t).find("a").attr("href").replace("#langTab_","");setTimeout(function(){CKEDITOR.instances[n].focus()},200),e(n)}var o,l=$("#"+n).closest(".langTabs");return i.data.getKeystroke()==CKEDITOR.CTRL+37?(o=l.find("ul .ui-tabs-active").index()-1,o=t(o,"down"),a(o)):i.data.getKeystroke()==CKEDITOR.CTRL+39?(o=l.find("ul .ui-tabs-active").index()+1,o=t(o,"up"),a(o)):void 0})})}var t=function(e,t){return"down"==t?e<0?q-1:e:e>q-1?0:e};$(".InputfieldCKEditor.hasLangTabs").length&&$(".InputfieldCKEditor.hasLangTabs").each(function(){var t=$(this).find("textarea.FieldtypeTextareaLanguage.InputfieldCKEditorLoaded").eq(0).attr("id");t&&e(t)}),$(document).on("keydown",".LanguageSupport input, .LanguageSupport textarea",function(e){function n(e){l.tabs("option","active",e),s.eq(e).focus()}var i,a=(e=e||window.event).keyCode||e.which,o={left:37,up:38,right:39,down:40},l=$(this).closest(".langTabs"),s=l.find("input, textarea");if(e.metaKey||e.ctrlKey)switch(a){case o.left:return e.preventDefault(),l.hasClass("ui-tabs")?(i=l.find("ul .ui-tabs-active").index()-1,i=t(i,"down"),n(i)):(i=t(s.index($(this))-1,"down"),s.eq(i).focus());case o.right:return e.preventDefault(),l.hasClass("ui-tabs")?(i=l.find("ul .ui-tabs-active").index()+1,i=t(i,"up"),n(i)):(i=t(s.index($(this))+1,"up"),s.eq(i).focus());case o.up:case o.down:return e.preventDefault(),l.parents(".hasLangTabs").addClass("hasLangTabs_"),l.parents(".hasLangTabs_").find(".langTabsToggle").trigger("click"),l.hasClass("ui-tabs")?(i=l.find("input, textarea").index($(this)),n(i)):this.focus()}})}(),$(".hasLangTabs").addClass("hasLangTabs_")}if(_isEnabled("Tooltips")&&$(document).on("dblclick","html.tooltipDesc #content p.description, html.tooltipNotes #content p.notes",function(){$(this).toggleClass("tooltip-active")}),_isEnabled("PageListThumbs")&&$(document).on("mousedown","a.aos_pageListLink",function(e){return 1===(e=e||window.event).which?(window.location=$(this).attr("href"),!1):2===e.which?(window.open($(this).attr("href")),!1):void 0}),_isEnabled("PageListTweaks")&&(-1!==AOSsettings.PageListTweaks.indexOf("pListShowExtras")&&$(document).on("hover",".PageListItem",function(){var e=$(this).find(".clickExtras"),t=$(this).find(".PageListActionEdit ~ .PageListActionEdit");e.length&&(e.trigger("click").remove(),$(this).find(".PageListActionExtras").length&&$(this).find(".PageListActionExtras").remove(),t.length&&t.parent().append(t))}),-1!==AOSsettings.PageListTweaks.indexOf("pListIconOnly")&&$(document).on("hover",".PageListActions a:not([title]), .PageListerActions a:not([title])",function(){$(this).attr("title",$(this).text())}),-1!==AOSsettings.PageListTweaks.indexOf("pListMiddleClick")&&$(document).on("mousedown",".PageListPage, .actions_toggle",function(e){if(2==e.which||4==e.button){var t,n=$(this);return t=e.metaKey||e.ctrlKey?n.parent().find(".PageListActionEdit a, .PageEdit"):n.parent().find(".PageListActionView a, .PageView"),n.css("pointer-events","none"),t.length>0&&window.open(t.attr("href")),setTimeout(function(){n.length&&n.css("pointer-events","")},200),!1}return!0}),-1!==AOSsettings.PageListTweaks.indexOf("pListUnselect")&&($(document).on("pageSelected",function(e,t){var n=t.a.parents(".InputfieldPageListSelect").first().find("button.clear"),i=t.a.parents(".InputfieldPageListSelect").first().find("button.restore");0!==t.id?n.removeClass("empty"):n.addClass("empty"),i.removeClass("empty").removeClass("initial")}),$(document).on("click",".aos_pagelist_unselect",function(){var e=$(this),t=e.parent(),n=e.parent().find("input"),i=e.parent().find(".PageListSelectName");return e.hasClass("clear")?(n.removeAttr("value"),i.html(""),e.addClass("empty"),t.find('button.restore[data-value-original!=""]').removeClass("empty"),t.find("button.restore").removeClass("initial")):(n.val(e.attr("data-value-original")),i.html(e.attr("data-title-original")),e.addClass("empty"),t.find("button.clear").removeClass("empty")),t.find(".PageListItemOpen").length&&t.find("a.PageListSelectActionToggle").trigger("click"),n.trigger("change"),!1}))),_isEnabled("Misc")){if(-1!==AOSsettings.Misc.indexOf("titleCaseToggle")&&$('[id^="Inputfield_title"]').length){var z={original:function(e,t){return t.attr("data-original")},"Lorem ipsum":function(e){return e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()},"Lorem Ipsum":function(e){return e.replace(/\w\S*/g,function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})},"LOREM IPSUM":function(e){return e.toLocaleUpperCase()},"lorem ipsum":function(e){return e.toLocaleLowerCase()}};$('[id^="Inputfield_title"]').each(function(){var e=$(this),t="";e.on("caseChange",function(t,n){m(e,n)}),e.on("keyup",function(){e.prev("a.case-toggle").length&&e.prev("a.case-toggle").attr("data-original",e.val())}),e.val().length&&(t=' data-original="'+e.val()+'"'),$(this).before('<a class="case-toggle" data-case="original"'+t+'><i class="fa fa-font"></i><i class="fa fa-font"></i></a>')}),$(document).on("click",".case-toggle",function(){var e=$(this),t=$(this).parent().find('[id^="Inputfield_title"]');return t.length&&(t.val()||e.attr("data-original",t.val()),t.trigger("caseChange",[e])),!1})}if(-1!==AOSsettings.Misc.indexOf("addOrRemoveFieldsTweaks")){var N=$('form[action*="./send-templates-save?id="] select');if(N.length>1){var H=$('<a href="#" class="addOrRemoveApplyButton" title="'+AOSsettings.loc.apply_to_all+'"><i class="fa fa-server" aria-hidden="true"></i></a>');N.first().after(H),H.on("click",function(){var e=$(this).prev("select").val();return N.each(function(){$(this).find("option[value="+e+"]").length&&$(this).val(e)}),!1}),N.on("change",function(){$(this).after(H)})}else if(1===N.length){var B=N.first();B.attr("size",B.find("option, optgroup").length)}$('form[action*="./send-templates-save?id="] input[type="checkbox"]').length&&g("#Inputfield_submit","",'form[action*="./send-templates-save?id="]'),$("#Inputfield_submit_remove_fields").length&&g("#Inputfield_submit_remove_fields",'input[name="remove_fields[]"]','form[action="removeFields"]'),$("#abandoned_fieldset").length&&g("#abandoned_fieldset .description",'#abandoned_fieldset input[type="checkbox"]',"form#InputfieldForm2")}if(-1!==AOSsettings.Misc.indexOf("homeOpenNewTab")){var U=$("body").hasClass("AdminThemeDefault")?"fa-eye":"fa-home";try{$("#topnav i."+U).parent("a").attr("target","_blank")}finally{}}if(-1!==AOSsettings.Misc.indexOf("dataTableFilter")&&(setupAdminDataTableFilter(),$(document).on("loaded opened reloaded wiretabclick",function(){setupAdminDataTableFilter()})),-1!==AOSsettings.Misc.indexOf("adminLangSwitcher")&&$(".aos_adminLangSwitcher").length){var V=$(".aos_adminLangSwitcher");$("body").hasClass("AdminThemeReno")?V.prependTo("#topnav"):(V.appendTo("#topnav"),$(".aos_adminLangSwitcher > a").append($(".aos_adminLangSwitcher > a + ul"))),V.removeAttr("style"),V.on("click","a[data-lang-id]",function(){var e=$(this).attr("data-lang-id");document.cookie="aos_lang_id="+e+";expires=0;path=/"})}if(-1!==AOSsettings.Misc.indexOf("transFilter")&&$('form[action*="?textdomain="]').length&&setupTranslatorFilter(),-1!==AOSsettings.Misc.indexOf("noAnim")&&($.fx.off=!0),-1!==AOSsettings.Misc.indexOf("hoverDropdown")&&($(".pw-dropdown-toggle-click").removeClass("pw-dropdown-toggle-click"),$(".dropdown-toggle-click").removeClass("dropdown-toggle-click"),$(".pw-button-dropdown.pw-dropdown-menu").attr("data-my","right top").attr("data-at","right bottom+1"),$(".pw-button-dropdown.dropdown-menu").attr("data-my","right top").attr("data-at","right bottom+1")),-1!==AOSsettings.Misc.indexOf("iconsFilter")&&$(".InputfieldIconAll").length){$(".InputfieldIconAll").before('<input id="icons-filter" class="hidden" placeholder="&#128269">');var j,J,G;$("a.InputfieldIconShowAll").click(function(){j=!1,$("#icons-filter").toggleClass("hidden").val("").focus()}),$("#icons-filter").on("input keydown",function(e){var t=$(this).val().trim().toLowerCase().replace(" ",""),n=e.keyCode||e.charCode||e.which;if(j||(j=$(".InputfieldIconAll").children(),J=j.first().is("span")),13===n){e.preventDefault();var i=j.not(".hidden");return i.length&&i.first().trigger("click"),$("#icons-filter").focus(),!1}t!==G&&(G=t,j.removeClass("hidden"),t&&(J?j.not(":has([title*="+t+"])").addClass("hidden"):j.not("[title*="+t+"]").addClass("hidden")))})}-1!==AOSsettings.Misc.indexOf("tabIndex")&&($(document).on("ready opened reloaded",function(){v()}),$(document).on("reloaded",".InputfieldRepeater",function(){v()}),$(document).on("click","a.InputfieldTableAddRow",function(){v()}))}if($(document).on("mousedown","a.PageListActionExtra.PageListActionDelete, .PageDelete.aos",function(e){if(e.preventDefault(),3==e.which||2==e.which)return!1;var t=$(this),n=t.attr("href"),i=AOSsettings.loc.delete_action;if(-1===n.indexOf("delete_permanently")){var a;if(t.hasClass("cancel"))return a=t.next("a"),a.removeClass("cancel").removeClass("confirm").attr("href",n.replace("delete_permanently&","delete&")).contents().last()[0].textContent=i,t.replaceWith(a),!1;a=t.clone(!0),t.addClass("confirm"),a.addClass("cancel").contents().last()[0].textContent=" "+AOSsettings.loc.cancel,t.contents().last()[0].textContent=" "+AOSsettings.loc.permanent_delete_confirm,t.attr("href",n.replace("delete&","delete_permanently&")),t.before(a)}return!1}),_isEnabled("ListerTweaks")&&$("html").hasClass("listerHoverBtn")&&$(document).on("mousedown",".PageExtras",function(){$(this).parents("td").find(".actions_toggle").trigger("click")}),_isEnabled("ModuleTweaks")){if(-1!==AOSsettings.ModuleTweaks.indexOf("moduleModal")){$("#modules_form td > a").addClass("pw-modal pw-modal-large pw-modal-longclick").attr("data-autoclose","#Inputfield_submit_save_module.needsReload, #Inputfield_submit_save_module_forceClose, #Inputfield_submit_save_module_forceCloseRefresh").attr("data-buttons","#Inputfield_submit_save_module, #Inputfield_submit_save_module_forceClose, #Inputfield_submit_save_module_forceCloseRefresh");var Q=$("#ModuleEditForm button#Inputfield_submit_save_module");if(window.frameElement&&Q.length){var Y=Q.clone(!1),X=Y.clone(),Z=AOSsettings.loc;Q.children(".ui-button-text").html(Z.save),Y.attr("id",Q.attr("id")+"_forceClose").addClass("ui-priority-secondary").appendTo(Q.parent()).children(".ui-button-text").html(Z.save_and_exit).before('<i class="fa fa-fw fa-close"></i>'),X.attr("id",Q.attr("id")+"_forceCloseRefresh").addClass("ui-priority-secondary").appendTo(Q.parent()).children(".ui-button-text").html(Z.save_and_reload).before('<i class="fa fa-fw fa-refresh"></i>'),Y.on("click",function(){$("input#uninstall").is(":checked")&&($(this).addClass("needsReload"),$("body",window.parent.document).addClass("needsReload"))}),X.on("click",function(){$("body",window.parent.document).addClass("needsReload")})}$("#modules_form td > a").on("pw-modal-closed",function(e,t){$("body").hasClass("needsReload")&&location.reload()}),$(document).on("pw-modal-opened",function(e,t){setTimeout(function(){t.event.currentTarget&&t.event.currentTarget.contentWindow&&t.event.currentTarget.contentWindow.focus()},250)}),$(document).on("keydown",function(e){e=e||window.event;var t=$(".ui-dialog-titlebar-close");27===e.keyCode&&t.length&&t.trigger("click")})}if(-1!==AOSsettings.ModuleTweaks.indexOf("flatModules")){if($("html.flatModules body.id-21").length){var ee=[],te='<button type="button" id="add_new_button" class="ui-button ui-widget ui-corner-all ui-state-default ui-priority-secondary"><span class="ui-button-text"><i class="fa fa-plus-circle"></i> '+AOSsettings.loc.add_new+"</span></button>",ne=$("#tab_new_modules"),ie=ne.find("input:eq(0)"),ae=$("#tab_site_modules"),oe=$(".moduleFilter");$("#reset_modules").parent().prepend(te),$(document).on("click","#add_new_button",function(e){var t=$(this);return e.preventDefault(),e.stopImmediatePropagation(),e.stopPropagation(),t.hasClass("active")?(t.removeClass("active"),oe.length&&oe.show(),t.find("i").removeClass("fa-minus-circle").addClass("fa-plus-circle"),ae.after(ne)):(t.addClass("active"),ae.before(ne),oe.length&&oe.hide(),t.find("i").addClass("fa-minus-circle").removeClass("fa-plus-circle"),ie.focus()),!1}),$("#modules_form p.detail").each(function(){$(this).appendTo("#modules_form")}),$("body").removeClass("hasWireTabs"),$("#modules_form tbody tr").each(function(){var e,t,n=$(this);if(n.parent("thead").length)return!0;(e=(t=n.find('a[href*="?name="]')).length?t.attr("href").split("?name=")[1].trim():(t=n.find('td:first-child > a[href="#"]')).find("span").attr("data-name"))||(e=n.children("td").first().find("a").first().clone().children().remove().end().text().trim()),-1===ee.indexOf(e)&&(ee.push(e),n.attr("data-aos-name",e))}),ee.sort(function(e,t){return e.toLowerCase().localeCompare(t.toLowerCase())}),$.each(ee,function(e){$('#modules_form tr[data-aos-name="'+ee[e]+'"]').appendTo("#modules_form .AdminDataTable:eq(0) tbody")})}-1!==window.location.href.indexOf("module/?new")&&setTimeout(function(){$("#add_new_button").trigger("click")},0)}if(-1!==AOSsettings.ModuleTweaks.indexOf("moduleCompact")&&$("form#modules_form > .Inputfields > .Inputfield").each(function(){var e=$(this),t=e.find("tbody").first();e.find("tbody tr").each(function(){$(this).appendTo(t)}),e.find(".modules_section:gt(0)").remove()}),-1!==AOSsettings.ModuleTweaks.indexOf("moduleFilter")){var le=-1!==window.location.href.indexOf("module/?new")?' style="display: none"':"";if(console.log($("body.AdminThemeUikit").length),0!=$("body.AdminThemeUikit").length)oe=$('<div class="filterbox-wrapper Inputfield"><label class="InputfieldHeader uk-form-label InputfieldStateToggle" for=""><i class="fa fa-fw fa-filter"></i> Quickfilter modules below</label><div class="moduleFilter filterbox InputfieldContent "\' + hiddenStyle + \'><input type="text" autofocus placeholder="Filter modules below" class="uk-input uk-form-width-medium"><i class="fa fa-close"></i><span class="counter"></span></div></div>');else oe=$('<div class="moduleFilter filterbox"'+le+'><input type="text" autofocus><i class="fa fa-close"></i></div>');$("#modules_form").length&&($("#modules_form table").each(function(){setColWidths("#"+$(this).attr("id"))}),$("#modules_form").find("tbody tr").each(function(){var e=$(this),t=e.children("td"),n=[];$.each(t,function(e,t){var i=t.innerText||t.textContent,a=t.querySelector("[data-name]"),o=t.querySelector('a[href^="edit?"]');i&&n.push(i.trim()),a&&n.push(a.getAttribute("data-name").trim()),o&&n.push(o.getAttribute("href").split("name=")[1])}),e.attr("data-filter",n.join(" "))}),$("#modules_form").before(oe),$(document).on("keydown",".moduleFilter input",function(e){var t=(e=e||window.event).target||e.srcElement;27===e.keyCode&&(t.value?setTimeout(function(){b()},0):t.blur())}),$(document).on("click",".moduleFilter i",function(){return b(),!1}),$(document).on("keydown",".moduleFilter input",function(e){e=e||window.event;var t,n,i,a=$("#modules_form").find(".WireTabs .on"),o=$(".WireTabs .hasMatches"),l=e.keyCode||e.charCode||e.which,s={left:37,up:38,right:39,down:40};if(e.metaKey||e.ctrlKey){var r=a.parent().nextAll("li").has(".hasMatches"),d=a.parent().prevAll("li").has(".hasMatches");if(o.length<2)return!0;switch(l){case s.left:return e.preventDefault(),n=d.length?d.first():o.last().parent(),a.find("a").removeClass("on"),t=n.find("a").attr("id").slice(1),$(".WireTab").css("display","none"),$(".WireTab#"+t).css("display","block"),n.find("a").addClass("on").trigger("click"),!1;case s.right:return e.preventDefault(),i=r.length?r.first():o.first().parent(),a.find("a").removeClass("on"),t=i.find("a").attr("id").slice(1),$(".WireTab").css("display","none"),$(".WireTab#"+t).css("display","block"),i.find("a").addClass("on").trigger("click"),!1}}}),$(document).on("input keypress keyup fieldchange",".moduleFilter input",debounce(function(e){var t=e.target||e.srcElement,n=t.value.toLowerCase(),i=$("#modules_form").find(".AdminDataTable").find("td"),a=e.keyCode||e.charCode,o=n.length;if($(".WireTabs a").removeClass("hasMatches"),13==a)return $("tr:not(.hidden) a").length&&$("tr:not(.hidden) a").first().get(0).click(),!1;if(!t.value)return b(),!0;if($(t).parent().addClass("hasValue"),o>0){var l=n.split(" ");i.each(function(){var e=$(this).parent("tr"),t=!0,n=e.attr("data-filter");if($.each(l,function(e,i){-1===n.toLowerCase().indexOf(i)&&(t=!1)}),t){e.removeClass("hidden");var i="_"+e.parents('li[id^="tab_"]').first().attr("id");$(".WireTabs li a#"+i).addClass("hasMatches")}else e.addClass("hidden")})}else i.removeClass("hidden");return $("html").hasClass("flatModules")||$(".modules_section").each(function(){$(this).toggleClass("hidden",0==$(this).find("tbody tr:not(.hidden)").length)}),i.filter(".hidden").length==i.length?27==a||8==a||37==a||46==a:void 0},200)))}}if(_isEnabled("RenoTweaks")&&$("body").hasClass("AdminThemeReno")){var se,re=AOSsettings.RenoTweaks;if($(document).on("mouseleave","ul.quicklinks, #main-nav > li > ul > li",function(){var e=$("html").hasClass("sbAutoHide")?0:400;se=setTimeout(function(){$("ul.quicklinks:visible").removeAttr("style"),$("a.quicklinks-open").removeClass("quicklinks-open").children("i").removeClass("active")},e)}),$(document).on("mouseenter","ul.quicklinks, i.quicklink-open",function(){se&&clearTimeout(se)}),-1!==re.indexOf("sbSingleClickHeads")&&-1!==re.indexOf("sbItemsVisible")&&$("#sidebar > #main-nav > li > a").on("click",function(){return window.location.href=$(this).attr("href"),!1}),window.Ps){var de=document.querySelector("#main-nav"),ce=document.querySelector("body:not(.modal-inline) #main"),ue={wheelSpeed:2,theme:"pw-scrollbar",suppressScrollX:!0,wheelPropagation:!0};de&&-1!==re.indexOf("miniScrollSb")&&Ps.initialize(de,ue),ce&&-1!==re.indexOf("miniScrollMain")&&Ps.initialize(ce,ue)}}if($("body[data-navitems]").length){var fe,pe=$($("body").attr("data-navitems")),he=!0;if($("body").hasClass("AdminThemeReno")?(fe=$("#main-nav li:eq(0) > ul")).length||(fe=$("#main-nav"),he=!1):(fe=$("#topnav li:eq(0) .pw-dropdown-menu.topnav")).length||(fe=$("#topnav li:eq(0) .dropdown-menu.topnav")),$(".AdminThemeReno").length&&($("#main-nav").find('a[data-icon="sitemap"]').find("i.fa-sitemap").remove(),$("#main-nav").find("a.current").removeClass("current")),$(".AdminThemeReno .navItem.hasSubmenu a.current").parents(".hasSubmenu").first().addClass("active"),he)pe.children("li").each(function(){fe.append($(this))});else{var me=fe.children("li").first();me.append("<ul>"),pe.each(function(){me.children("ul").append($(this))})}$("body").removeAttr("data-navitems")}if(_isEnabled("PagePreviewBtn")){var ge=$("body").hasClass("AdminThemeDefault")?"#breadcrumbs li.title":"#headline #title";if($(ge).length&&$("a#_ProcessPageEditView").length){var ve=$(ge),$e=$("a#_ProcessPageEditView").attr("href");0==ve.children(".pageTitleLink").length&&(ve.children("span").length||ve.wrapInner("<span>"),ve.append('<a href="'+$e+'" id="aos_PagePreviewBtn" class="'+AOSsettings.PagePreviewBtn+'" target="_blank"><i class="fa fa-external-link"></i></a>'))}$("#aos_PagePreviewBtn").hover(function(){$(this).prev(".aos_EditTemplate").css("display","none")},function(){$(this).prev(".aos_EditTemplate").removeAttr("style")})}if(_isEnabled("RestrictTreeDropdown")&&!0===AOSsettings.RestrictTreeDropdown&&($('a[href$="/page/list/"]').parent("li").remove(),$('a[href$="/page/"]').children("i.quicklink-open").remove()),_isEnabled("FileFieldTweaks")){var be=AOSsettings.FileFieldTweaks,we=$("<span class='InputfieldFileFieldFilter filterbox'><input placeholder='&#128269;' /><i class='fa fa-close'></i></span>"),Ce=".InputfieldImage.Inputfield:not(.filterbox_loaded), .InputfieldFile.Inputfield:not(.filterbox_loaded)",ye=function(e){return e.hasClass("InputfieldImage")?".gridImage:not(.gridImagePlaceholder)":".InputfieldFileItem"};-1!==be.indexOf("moveAssetButtons")&&$(document).on("click",".aos_moveAssets i",function(){var e=$(this).parents(".ui-sortable").first(),t=$(this),n=$(this).parents("li").first();n.fadeOut(300,function(){t.is("[data-up]")?n.prependTo(e):n.appendTo(e),e.children("li").each(function(e){$(this).find(".InputfieldFileSort").val(e)}),e.parent().find('input[type="file"]').first().trigger("change"),n.fadeIn(300)})}),-1!==be.indexOf("filterbox")&&($(Ce).on("DOMNodeInserted.aos_filterbox",function(e){var t=e.target||e.srcElement,n=$(t).closest("li.Inputfield"),i=ye(n);$(t).is(i)&&n.find(i).length>=2&&(n.find(".InputfieldFileFieldFilter").removeAttr("style"),n.off("DOMNodeInserted.aos_filterbox"))}),$(Ce+":not(.collapsed10)").each(function(){w($(this))}),$(document).on("opened reloaded",Ce,function(){$(Ce).each(function(){w($(this))})}).on("wiretabclick",function(e,t){t.find(Ce).each(function(){w($(this))})}),$(document).on("hover click",".InputfieldFileFieldFilter input",function(e){var t=e.target||e.srcElement,n=$(t).closest("li.Inputfield");return!$(t).is(":focus")&&(n.find(".InputfieldImageEdit__close").trigger("click"),C(n),e.stopPropagation(),!1)}),$(document).on("click",".InputfieldFileFieldFilter i",function(e){var t=(e=e||window.event).target||e.srcElement;return y($(t).closest(".InputfieldFileFieldFilter").find("input")),!1}),$(document).on("keydown",".InputfieldFileFieldFilter input",function(e){var t=(e=e||window.event).target||e.srcElement;27===e.keyCode&&(t.value?y($(t).closest(".InputfieldFileFieldFilter").find("input")):t.blur())}),$(document).on("input keypress keyup fieldchange",".InputfieldFileFieldFilter input",debounce(function(e){var t=e.target||e.srcElement,n=t.value.toLowerCase(),i=$(t).closest("li.Inputfield"),a=i.find("[data-filter]"),o=n.length;if(!t.value)return $(t).parent().removeClass("hasValue"),a.removeClass("hidden"),!0;if($(t).parent().addClass("hasValue"),i.find(".InputfieldImageEdit__close").trigger("click"),o>0){var l=n.split(" ");a.each(function(){var e=$(this),t=!0,n=e.attr("data-filter");void 0!==n&&!1!==n&&($.each(l,function(e,i){-1===n.toLowerCase().indexOf(i)&&(t=!1)}),t?e.removeClass("hidden"):e.addClass("hidden"))})}else a.removeClass("hidden");return a.filter(".hidden").length==a.length?27==e.keyCode||8==e.keyCode||37==e.keyCode||46==e.keyCode:void 0},200)))}if(re&&-1!==re.indexOf("stickyCKEBar")){var ke;if($(".InputfieldCKEditor").length){var _e=$(".InputfieldCKEditor").eq(0),Ie=debounce(function(){if(!$("html").hasClass("stickyCKEBar"))return!1;if($(document).width()<960||!_e)return!1;var e=_e.find(".cke_top"),t=_e.find(".cke_contents");if(!e.length)return!1;var n=_e.offset().top-posTop(),i=_e.offset().top+_e.height()-posTop();n<70&&i>200?(e.addClass("cke_top_fixed"),t.css("padding-top",ke+"px"),$("html").addClass("stickyCKEBar")):(e.removeClass("cke_top_fixed"),$("html").removeClass("stickyCKEBar"),t.css("padding-top","0px"))},0);$(window).on("scroll addStickyCKEBar",function(){Ie()}),CKEDITOR.on("instanceReady",function(e){var t=e.editor;ke=_e.find(".cke_top").outerHeight(),t.on("selectionChange",function(e){"wrap_"+e.editor.name.indexOf(_e.attr("id"))!==-1&&($("html").addClass("stickyCKEBar"),Ie())}),t.on("blur",function(e){"wrap_"+e.editor.name.indexOf(_e.attr("id"))!==-1&&(_e.find(".cke_top").removeClass("cke_top_fixed"),_e.find(".cke_contents").css("padding-top","0px"),$("html").removeClass("stickyCKEBar"))})})}}}}),function(e,t){if("function"==typeof define&&define.amd)define(["exports","module"],t);else if("undefined"!=typeof exports&&"undefined"!=typeof module)t(exports,module);else{var n={exports:{}};t(n.exports,n),e.autosize=n.exports}}(this,function(e,t){"use strict";function n(e){function t(t){var n=e.style.width;e.style.width="0px",e.offsetWidth,e.style.width=n,e.style.overflowY=t}function n(e){for(var t=[];e&&e.parentNode&&e.parentNode instanceof Element;)e.parentNode.scrollTop&&t.push({node:e.parentNode,scrollTop:e.parentNode.scrollTop}),e=e.parentNode;return t}function i(){var t=e.style.height,i=n(e),a=document.documentElement&&document.documentElement.scrollTop;e.style.height="auto";var o=e.scrollHeight+s;0!==e.scrollHeight?(e.style.height=o+"px",r=e.clientWidth,i.forEach(function(e){e.node.scrollTop=e.scrollTop}),a&&(document.documentElement.scrollTop=a)):e.style.height=t}function a(){i();var n=Math.round(parseFloat(e.style.height)),a=window.getComputedStyle(e,null),o=Math.round(parseFloat(a.height));if(o!==n?"visible"!==a.overflowY&&(t("visible"),i(),o=Math.round(parseFloat(window.getComputedStyle(e,null).height))):"hidden"!==a.overflowY&&(t("hidden"),i(),o=Math.round(parseFloat(window.getComputedStyle(e,null).height))),d!==o){d=o;var s=l("autosize:resized");try{e.dispatchEvent(s)}catch(e){}}}if(e&&e.nodeName&&"TEXTAREA"===e.nodeName&&!o.has(e)){var s=null,r=e.clientWidth,d=null,c=function(){e.clientWidth!==r&&a()},u=function(t){window.removeEventListener("resize",c,!1),e.removeEventListener("input",a,!1),e.removeEventListener("keyup",a,!1),e.removeEventListener("autosize:destroy",u,!1),e.removeEventListener("autosize:update",a,!1),Object.keys(t).forEach(function(n){e.style[n]=t[n]}),o.delete(e)}.bind(e,{height:e.style.height,resize:e.style.resize,overflowY:e.style.overflowY,overflowX:e.style.overflowX,wordWrap:e.style.wordWrap});e.addEventListener("autosize:destroy",u,!1),"onpropertychange"in e&&"oninput"in e&&e.addEventListener("keyup",a,!1),window.addEventListener("resize",c,!1),e.addEventListener("input",a,!1),e.addEventListener("autosize:update",a,!1),e.style.overflowX="hidden",e.style.wordWrap="break-word",o.set(e,{destroy:u,update:a}),function(){var t=window.getComputedStyle(e,null);"vertical"===t.resize?e.style.resize="none":"both"===t.resize&&(e.style.resize="horizontal"),s="content-box"===t.boxSizing?-(parseFloat(t.paddingTop)+parseFloat(t.paddingBottom)):parseFloat(t.borderTopWidth)+parseFloat(t.borderBottomWidth),isNaN(s)&&(s=0),a()}()}}function i(e){var t=o.get(e);t&&t.destroy()}function a(e){var t=o.get(e);t&&t.update()}var o="function"==typeof Map?new Map:function(){var e=[],t=[];return{has:function(t){return e.indexOf(t)>-1},get:function(n){return t[e.indexOf(n)]},set:function(n,i){-1===e.indexOf(n)&&(e.push(n),t.push(i))},delete:function(n){var i=e.indexOf(n);i>-1&&(e.splice(i,1),t.splice(i,1))}}}(),l=function(e){return new Event(e,{bubbles:!0})};try{new Event("test")}catch(e){l=function(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!1),t}}var s=null;"undefined"==typeof window||"function"!=typeof window.getComputedStyle?((s=function(e){return e}).destroy=function(e){return e},s.update=function(e){return e}):((s=function(e,t){return e&&Array.prototype.forEach.call(e.length?e:[e],function(e){return n(e)}),e}).destroy=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],i),e},s.update=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],a),e}),t.exports=s});