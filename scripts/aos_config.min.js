function getParentCheckbox(cb){return"0px"!==window.getComputedStyle(cb.get(0),null).getPropertyValue("margin-left")&&(cb=getParentCheckbox(cb.parent().parent("li").prev("li").find("input"))),cb}function setupCheckbox(currentCheckbox){var nextCheckbox=currentCheckbox.parent().parent("li").next("li").find("input");if(nextCheckbox.length){if("0px"!==window.getComputedStyle(nextCheckbox.get(0),null).getPropertyValue("margin-left")){var isChecked=getParentCheckbox(currentCheckbox).is(":checked");nextCheckbox.parent().parent("li").toggleClass("disabled",!isChecked)}setupCheckbox(nextCheckbox)}}function checkAOSstate(el){$("#wrap_Inputfield_enabledSubmodules, #Inputfield_tweaks, #wrap_Inputfield_restore, #Inputfield_AssetPaths").toggleClass("aos_disabled",!el.is(":checked"))}$(window).load(function(){if($('form[action*="AdminOnSteroids"] #Inputfield_enabled').length){var el=$('form[action*="AdminOnSteroids"] #Inputfield_enabled');el.on("change",function(){checkAOSstate(el)}),checkAOSstate(el)}if(window.ace&&$("#InputfieldAceExtended_FieldOverrides_editor").length){var cke_customizations_editor=ace.edit("InputfieldAceExtended_FieldOverrides_editor");cke_customizations_editor.setOption("maxLines",80),cke_customizations_editor.$blockScrolling=1/0}}),$(document).ready(function(){function sliderTooltip(ui){var tooltip='<div class="sliderTooltip"><div class="sliderTooltip-inner ui-button"><span>'+(ui&&ui.value||$longClickElem.val())+"</span>"+longClickUnit+'</div><div class="sliderTooltip-arrow"></div></div>';$(".ui-slider-handle").html(tooltip)}function UrlExists(url,cb){$.ajax({url:url,type:"HEAD",cache:!1,complete:function(xhr){"function"==typeof cb&&cb.apply(this,[xhr.status])}})}function showResult(result){var icon,className;!0===result?(icon="check",className="success"):!1===result?(icon="exclamation-triangle",className="error"):"forbidden"===result&&(icon="question-circle",className="forbidden"),$assetCheckBtn.html(assetCheckBtnText),$assetCheckBtn.addClass(className),$assetCheckBtn.html(assetCheckBtnText+'<i class="fa fa-'+icon+'">')}if(window.CodeMirror){var fieldOverrides_textarea=document.getElementById("Inputfield_FieldOverrides");fieldOverrides_textarea&&CodeMirror.fromTextArea(fieldOverrides_textarea,{lineNumbers:!0,mode:"properties",theme:"twilight",viewportMargin:1/0,indentAuto:!0,lineWrapping:!0})}var html=$("html"),isRenoTheme=!!html.hasClass("AdminThemeReno"),isDefaultTheme=!!html.hasClass("AdminThemeDefault");$(document).on("change",'#Inputfield_tweaks input[type="checkbox"]',function(){var checkbox=$(this),currentId=checkbox.attr("id"),isChecked=checkbox.is(":checked"),idArray=currentId.split("_");if(-1!==currentId.indexOf("AdminTweaks")&&isRenoTheme||-1!==currentId.indexOf("RenoTweaks")&&isDefaultTheme)return!0;html.toggleClass(idArray[idArray.length-1],isChecked)});var $longClickElem=$("#Inputfield_LongClickDuration");if($longClickElem.length){var longClickUnit=" ms",$longClickSlider=$("<div id='longClickSlider'></div>"),columnWidthVal=parseInt($longClickElem.val());$longClickElem.val(columnWidthVal),$longClickElem.after($longClickSlider),$longClickSlider.slider({range:"min",step:100,min:600,max:3e3,value:parseInt($longClickElem.val()),slide:function(e,ui){var val=ui.value;$longClickElem.val(val),sliderTooltip(ui)},create:function(e,ui){sliderTooltip(ui)}}),$longClickElem.change(function(){var val=parseInt($(this).val());val>3e3&&(val=3e3),val<600&&(val=600),val%100!=0&&(val=100*Math.round(val/100)),$(this).val(val),$longClickSlider.slider("option","value",val),sliderTooltip()})}if($(".Inputfield_enabledSubmodules").length){var configLink='<a class="configLink" title="Configure"><i class="fa fa-cog"></a>';$('#wrap_Inputfield_enabledSubmodules input[id^="Inputfield_enabledSubmodules_"]').each(function(){var input=$(this),submoduleName=input.attr("id").replace("Inputfield_enabledSubmodules_",""),target="#wrap_Inputfield_"+submoduleName;if($(target).length||(target="#Inputfield_"+submoduleName),!$(target).length)return!0;configLink=$(configLink).clone().attr("href",target),input.next("span").after(configLink)})}if($("#wrap_Inputfield_enabledSubmodules .InputfieldCheckboxesStacked li span").each(function(){var obj=$(this),current=obj.parent().children("input").attr("id").replace("enabledSubmodules_","");obj.after($("#wrap_"+current+"Roles"))}),$("#Inputfield_AssetPaths").length){var assetCheckBtnText="Check",$assetCheckBtn=$('<button id="asset-check-button">'+assetCheckBtnText+"</button>");$("#Inputfield_AssetPaths").on("focus","input",function(){$assetCheckBtn.html(assetCheckBtnText),$assetCheckBtn.removeClass(),$(this).parents(".Inputfield").first().find("label").append($assetCheckBtn)});var $visibleAssetInput=$("#Inputfield_AssetPaths .Inputfield:not(.InputfieldStateCollapsed)");$visibleAssetInput.length&&$visibleAssetInput.first().find("label").append($assetCheckBtn),$assetCheckBtn.on("click",function(){var $input=$(this).parents(".Inputfield").first().find("input"),url=$input.val().trim();if(!url||0===url.length)return $input.focus(),!1;$assetCheckBtn.html(assetCheckBtnText),$assetCheckBtn.removeClass();var rootUrl=window.location.origin+ProcessWire.config.urls.root,baseUrl=-1===url.indexOf("http")?rootUrl:"";return url="/"===url[0]?url.substr(1):url,url=(baseUrl+url).trim(),UrlExists(url,function(status){showResult(200===status?!0:403===status?"forbidden":!1)}),!1})}$.each(["#wrap_Inputfield_RenoTweaks","#wrap_Inputfield_AsmTweaks","#wrap_Inputfield_Misc"],function(i,selector){$(selector+' input[type="checkbox"]').on("change",function(){setupCheckbox($(this))}),$(selector).on("click",'li.disabled input[type="checkbox"]',function(e){return e.preventDefault(),!1}),setupCheckbox($(selector+' li:eq(0) input[type="checkbox"]'))})});